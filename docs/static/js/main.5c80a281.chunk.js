(this["webpackJsonpdatos-en-blockchain"]=this["webpackJsonpdatos-en-blockchain"]||[]).push([[0],{124:function(e,a){},125:function(e,a){},326:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(92),l=t.n(c),s=t(2),i=t.n(s),o=t(4),m=t(14),u=t(15),d=t(17),p=t(16),b=t(93),f=t.n(b),E={tronWeb:!1,contract:!1,setTronWeb(e){this.tronWeb=e},setContract(e,a){var t=this;return Object(o.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.contract().at(a);case 2:t.contract=n.sent;case 3:case"end":return n.stop()}}),n)})))()}},v=t(10),h="TTuKWj5YumQDMGxpbmSWc3EbPNCkayGXJT",g=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).state={kwproducidos:0,contadoresactivos:0,certificados:0},n.estado=n.estado.bind(Object(v.a)(n)),n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.setContract(window.tronWeb,h);case 2:setInterval((function(){return a.estado()}),1e3);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"estado",value:function(){var e=Object(o.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.contract.setstate().call();case 2:a=e.sent,this.setState({kwproducidos:parseInt(a[2]._hex),contadoresactivos:parseInt(a[0]._hex),certificados:parseInt(a[1]._hex)});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,a=e.kwproducidos,t=e.contadoresactivos,n=e.certificados;return r.a.createElement("div",{className:"section cl"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row text-left stat-wrap"},r.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12"},r.a.createElement("span",{"data-scroll":!0,className:"global-radius icon_wrap effect-1 alignleft"},r.a.createElement("i",{className:"flaticon-hosting"})),r.a.createElement("p",{className:"stat_count"},a),r.a.createElement("h3",null,"KW Producidos")),r.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12"},r.a.createElement("span",{"data-scroll":!0,className:"global-radius icon_wrap effect-1 alignleft"},r.a.createElement("i",{className:"flaticon-domain-registration"})),r.a.createElement("p",{className:"stat_count"},t),r.a.createElement("h3",null,"Contadores Activos")),r.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12"},r.a.createElement("span",{"data-scroll":!0,className:"global-radius icon_wrap effect-1 alignleft"},r.a.createElement("i",{className:"flaticon-mail"})),r.a.createElement("p",{className:"stat_count"},n),r.a.createElement("h3",null,"Certificados emitidos")))))}}]),t}(n.Component),w=t(94),N=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).consulta=n.consulta.bind(Object(v.a)(n)),n.nuevaConsulta=n.nuevaConsulta.bind(Object(v.a)(n)),n.state={consulta:!1,certificado:"certificado.html",totalInvestors:0,cuenta:0,Meses:{},totalInvested:0,totalRefRewards:0,options:{title:{display:!0,text:"Mis consumos KW/h",fontSize:25},legend:{display:!1,position:"rigth"},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},data:{}},n.cambiarDatos=n.cambiarDatos.bind(Object(v.a)(n)),n.irCertificado=n.irCertificado.bind(Object(v.a)(n)),n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.setContract(window.tronWeb,h);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"irCertificado",value:function(){var e=Object(o.a)(i.a.mark((function e(){var a,t,n,r,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.cuenta,e.next=3,window.tronWeb.trx.getAccount();case 3:return t=e.sent,e.next=6,window.tronWeb.trx.getAccount();case 6:if(!e.sent){e.next=13;break}t="&direccion="+(t=window.tronWeb.address.fromHex(t.address)),n="",n="&cargo="+(n="Admin"),e.next=15;break;case 13:t="",n="";case 15:r="",r="&consumo="+(r=1270),c={0:"Octubre.177.185378001",1:"Septiembre.79.185378002",2:"Agosto.164.185378003",3:"Julio.167.185378004",4:"Junio.222.185378005",5:"Mayo.209.185378006",6:"Abril.201.185378007",7:"Marzo.180.185378008",8:"Febrero.234.185378009",9:"Enero.184.185378010",10:"Diciembre.269.185378011",11:"Noviembre.149.185378012"},this.setState({Meses:c}),l="certificado.html?cuenta="+a+t+n+r+"&mes1="+c[0]+"&mes2="+c[1]+"&mes3="+c[2]+"&mes4="+c[3]+"&mes5="+c[4]+"&mes6="+c[5]+"&mes7="+c[6]+"&mes8="+c[7]+"&mes9="+c[8]+"&mes10="+c[9]+"&mes11="+c[10]+"&mes12="+c[11],this.setState({certificado:l});case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cambiarDatos",value:function(){var e=Object(o.a)(i.a.mark((function e(){var a,t,n,r,c,l,s,o,m,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.irCertificado();case 2:a=this.state.Meses,n=(t=a)[0].split("."),r=t[1].split("."),c=t[2].split("."),l=t[3].split("."),s=t[4].split("."),o=t[5].split("."),m=[o[1],s[1],l[1],c[1],r[1],n[1]],u=[o[0],s[0],l[0],c[0],r[0],n[0]],this.setState({data:{labels:u,datasets:[{label:"Consumo actual",data:m,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"consulta",value:function(){var e=Object(o.a)(i.a.mark((function e(){var a,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=document.getElementById("cuenta").value,t=!1,e.next=4,E.contract.cuentaActiva(a).call();case 4:if(t=e.sent,console.log(t),t=t.res,!(a>=1&&t)){e.next=13;break}return this.setState({consulta:!0,cuenta:a}),e.next=11,this.cambiarDatos();case 11:return e.next=13,this.irCertificado();case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nuevaConsulta",value:function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({consulta:!1,cuenta:0});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,a=this.state,t=a.data,n=a.options,c=a.certificado,l=a.consulta,s=a.cuenta;return l?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"pricing",className:"section lb"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{className:"tab-pane active fade show",id:"tab1"},r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"pricing-table pricing-table-highlighted"},r.a.createElement("div",{className:"pricing-table-header grd1"},r.a.createElement("h2",null,"Consumo actual"),r.a.createElement("h3",null,"lectura | 39.857")),r.a.createElement("div",{className:"pricing-table-space"}),r.a.createElement("div",{className:"pricing-table-features"},r.a.createElement("p",null,r.a.createElement("i",{className:"fa fa-envelope-o"})," ",r.a.createElement("strong",null,"170 KW")," Este mes"),r.a.createElement("p",null,r.a.createElement("i",{className:"fa fa-rocket"})," ",r.a.createElement("strong",null,"5,66 KW")," cada d\xeda"),r.a.createElement("p",null,r.a.createElement("i",{className:"fa fa-life-ring"})," ",r.a.createElement("strong",null,"0,236 KW")," cada hora"),r.a.createElement("p",null,r.a.createElement("i",{className:"fa fa-database"})," ",r.a.createElement("strong",null,"$73.100")," Valor Total")),r.a.createElement("div",{className:"pricing-table-sign-up"},r.a.createElement("hr",null),r.a.createElement("a",{href:"#pricing",onClick:function(){return e.cambiarDatos()},className:"hover-btn-new"},r.a.createElement("span",null,"Actualizar Datos"))))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"pricing-table pricing-table-highlighted"},r.a.createElement("div",{className:"pricing-table-header grd1"},r.a.createElement("h2",null,"Cuenta N\xb0: ",r.a.createElement("b",null,s)),r.a.createElement("h2",null,"Promedio \xdaltimos 6 meses: ",r.a.createElement("b",null,"170"))),r.a.createElement("div",{className:"pricing-table-space"}),r.a.createElement("div",{className:"pricing-table-features"},r.a.createElement(w.Bar,{data:t,options:n})),r.a.createElement("div",{className:"pricing-table-sign-up"},r.a.createElement("a",{href:c,onClick:function(){return e.irCertificado()},className:"hover-btn-new"},r.a.createElement("span",null,"Ver Certificado")),"\xa0",r.a.createElement("a",{href:"#domain",onClick:function(){return e.nuevaConsulta()},className:"hover-btn-new"},r.a.createElement("span",null,"Nueva Consulta"))))))))))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"domain",className:"section wb"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("form",{className:"checkdomain form-inline"},r.a.createElement("div",{className:"checkdomain-wrapper"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h1",null,"Escriba su n\xfamero de cuenta para consultar"),r.a.createElement("label",{className:"sr-only",for:"domainnamehere"},"N\xfamero de cuenta"),r.a.createElement("input",{type:"text",className:"form-control",id:"cuenta",placeholder:"123456789"}),r.a.createElement("button",{type:"button",className:"btn btn-primary grd1",onClick:function(){return e.consulta()}},r.a.createElement("i",{className:"fa fa-search"})))))),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"customwidget text-center"},r.a.createElement("p",null,"Una base de datos centralizados puede ser atacada facilmente."),r.a.createElement("p",null,"La tecnologia BlockChain consta de varias copias de la misma base de datos, distribuidas al rededor del mundo, donde solo los administradores pueden realizar cambios, todos y cada uno de los movimientos queda registrado dentro le la blochchain y disponibles para audotoria publica o privada."),r.a.createElement("ul",{className:"list-inline"},r.a.createElement("li",null,r.a.createElement("i",{className:"fa fa-check"})," Disponibilidad 24/7 de la informaci\xf3n"),r.a.createElement("li",null,r.a.createElement("i",{className:"fa fa-check"})," Alta escalabilidad para manejo de Datos"))))))))}}]),t}(n.Component),k=t(95),x=t.n(k),W="https://chrome.google.com/webstore/detail/ibnejdfjmmkpcnlpebklmnkoeoihofec/",y=r.a.createElement("div",{className:"logo col-xs-12 col-md-4 text-center"},r.a.createElement("img",{src:x.a,className:"img-fluid",alt:"TronLink logo"})),C=function(){window.open(W,"_blank")},j=function(e){var a=e.installed;return void 0!==a&&a?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mt-4",onClick:C},r.a.createElement("div",{className:"col-xs-12 col-md-8"},r.a.createElement("h1",null,"Inicie Sesi\xf3n"),r.a.createElement("p",null,"TronLink esta instalado pero no ha iniciado sesion. Abra TronLink en la barra del navegador y configure su primer billetera o restaure una billetera ya creada.")),y)):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mt-4",onClick:C},r.a.createElement("div",{className:"col-xs-12 col-md-8"},r.a.createElement("h1",null,"Se necesita TronLink"),r.a.createElement("p",null,"Para consultar su medidor debe tener instalado TronLink. TronLink es una billetera TRON para el navegador, puede usarlar ",r.a.createElement("a",{href:W,target:"_blank",rel:"noopener noreferrer"},"installed from the Chrome Webstore"),". una vez instalada, regrese y recarge la pagina.")),y))},O=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).state={tronWeb:{installed:!1,loggedIn:!1}},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark((function e(){var a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){var t={installed:!!window.tronWeb,loggedIn:window.tronWeb&&window.tronWeb.ready};if(t.installed)return a.setState({tronWeb:t}),e();var n=0,r=setInterval((function(){if(n>=10){return window.tronWeb=new f.a("https://api.trongrid.io","https://api.trongrid.io","https://api.trongrid.io"),a.setState({tronWeb:{installed:!1,loggedIn:!1}}),clearInterval(r),e()}if(t.installed=!!window.tronWeb,t.loggedIn=window.tronWeb&&window.tronWeb.ready,!t.installed)return n++;a.setState({tronWeb:t}),e()}),100)}));case 2:this.state.tronWeb.loggedIn||(window.tronWeb.defaultAddress={hex:window.tronWeb.address.toHex("TWiWt5SEDzaEqS6kE5gandWMNfxR2B5xzg"),base58:"TWiWt5SEDzaEqS6kE5gandWMNfxR2B5xzg"},window.tronWeb.on("addressChange",(function(){a.state.tronWeb.loggedIn||a.setState({tronWeb:{installed:!0,loggedIn:!0}})}))),E.setTronWeb(window.tronWeb);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.tronWeb.installed?this.state.tronWeb.loggedIn?r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement(N,{consulta:!0})):r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement(j,{installed:!0})):r.a.createElement(r.a.Fragment,null,r.a.createElement(j,null))}}]),t}(n.Component),I=document.getElementById("root");l.a.render(r.a.createElement(O,null),I)},95:function(e,a,t){e.exports=t.p+"static/media/TronLinkLogo.d3a8f115.png"},96:function(e,a,t){e.exports=t(326)}},[[96,1,2]]]);
//# sourceMappingURL=main.5c80a281.chunk.js.map